{% extends "base.html" %}
  {% block content %}
    <p>
      <img src="data:image/svg+xml;base64,{{ diagram }}"></img>
      <img src="data:image/svg+xml;base64,{{ barcode }}"></img>
    </p>
    <p>
      Betti numbers and Euler characteristic:
      <table>
      <th>Length</th>
      {% for i in range(betti|length - 2) %}
      <th>Betti {{ i }}</th>
      {% endfor %}
      <th>Euler characteristic</th>
      {% for i in range(betti[0]|length) %}
      <tr>
      <td>{{ betti[0][i] }}</td>
      {% for j in range(betti|length - 1) %}
      <td>{{ betti[j+1][i] }}</td>
      {% endfor %}
      {% endfor %}
      </tr>
      </table>
      </p>
      <p>
      Statistics:
      <table>
        <th>Dimension</th><th>Number of features</th><th>Minimum length</th><th>Maximum nontrivial length</th><th>Mean length</th><th>Median length</th>
        {% for i in range(dim|length) %}
        <tr>
        <td>{{ dim[i] }}</td>
        {% for j in stats[i] %}
        <td>{{ j }}</td>
        {% endfor %}
        </tr>
        {% endfor %}
      </table>
      {% if stats[1] %}
      </p>
      <p>
      Ratios:
      <table>
        <th>Dimensions</th><th>Ratio of number of features</th><th>Ratio of mean feature length</th>
        {% set k = namespace(value=0) %}
        {% for i in range(dim|length) %}
        {% for j in range(dim|length) %}
        {% if j > i %}
        <tr>
        <td>{{ dim[i] }}:{{ dim[j] }}</td><td>{{ stats[-1][k.value] }}</td><td>{{ stats[-1][k.value+1] }}</td>
        </tr>
        {% set k.value = k.value + 2 %}
        {% endif %}
        {% endfor %}
        {% endfor %}
      <table>
      {% endif %}
    </p>
    <p>
      NumPy arrays of lifetime data:<br>
      {{ raw }}
    </p>
  {% endblock %}
